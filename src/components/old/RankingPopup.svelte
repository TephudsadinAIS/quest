<script>
  export let show = false;
  export let rankingData = [];
  export let loggedInUser = '';
  export let onClose = () => {};
</script>

{#if show}
<div class="ranking-popup">
  <div class="ranking-header">
    <h2>üèÜ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
    <button class="close-btn" on:click={onClose}>√ó</button>
  </div>

  <div class="ranking-body">
    <table class="ranking-table">
      <thead>
        <tr>
          <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
          <th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th>
          <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á</th> <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° -->
        </tr>
      </thead>
      <tbody>
        {#each rankingData.sort((a, b) => b.score - a.score) as entry, i}
          <tr class={entry.userId === loggedInUser ? 'highlight green' : ''}>
            <td>{i + 1}</td>
            <td>{entry.userId}</td>
            <td>{entry.score}</td>
            <td>{entry.count}</td> <!-- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° -->
          </tr>
        {/each}
      </tbody>
    </table>
  </div>
</div>
{/if}
